<div class="product-details-container container p-5 w-100">
  <div class="product-image">
    <img [src]="getImageUrl(product.imageUrl)" alt="{{ product.name }}" />
  </div>
  <div class="product-info">
    <div class="d-flex justify-content-between align-items-center">
      <h1>{{ product.name }}</h1>
      <h2 class="product-price">
        <span class="price">{{ product.price | currency : "USD" }}</span>
      </h2>
    </div>
    <div class="product-rating" *ngIf="product.rating">
      <!-- First -->
      @if (product.rating) {
      <i class="bi bi-star-fill"></i>
      } @else if (product.rating > 0 && product.rating < 1) {
      <i class="bi bi-star-half"></i>
      } @else {
      <i class="bi bi-star"></i>
      }
      <!-- Second -->
      @if (product.rating > 2) {
      <i class="bi bi-star-fill"></i>
      } @else if (product.rating && product.rating < 2) {
      <i class="bi bi-star-half"></i>
      } @else {
      <i class="bi bi-star"></i>
      }
      <!-- Third -->
      @if (product.rating > 3) {
      <i class="bi bi-star-fill"></i>
      } @else if (product.rating > 2 && product.rating < 3) {
      <i class="bi bi-star-half"></i>
      } @else {
      <i class="bi bi-star"></i>
      }
      <!-- Fourth -->
      @if (product.rating > 4) {
      <i class="bi bi-star-fill"></i>
      } @else if (product.rating > 3 && product.rating < 4) {
      <i class="bi bi-star-half"></i>
      } @else {
      <i class="bi bi-star"></i>
      }
      <!-- Fifth -->
      @if (product.rating == 5) {
      <i class="bi bi-star-fill"></i>
      } @else if (product.rating > 4 && product.rating < 5) {
      <i class="bi bi-star-half"></i>
      } @else {
      <i class="bi bi-star"></i>
      }
      <span class="rating-value">{{ product.rating }}/5</span>
      <span class="reivew-count">({{ product.reviews }})</span>
    </div>
    <p>{{ product.artisan.username }}</p>
    <div class="product-description">
      <h5>Description</h5>
      <p>{{ product.description }}</p>
    </div>
  </div>
</div>
<div class="product-reviews-container container p-5 w-100">
  <h2>Reviews</h2>
  <ng-container
    *ngIf="product.reviews && product.reviews.length > 0; else noReviews"
  >
    @for (review of product.reviews; track review.user) {
    <p>review from {{ review.user }}</p>
    }
  </ng-container>
  <ng-template #noReviews>
    <p>No reviews available for this product.</p>
  </ng-template>
</div>
